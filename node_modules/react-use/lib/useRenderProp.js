"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const React = require("react");
const createMemo_1 = require("./createMemo");
const { useState, useCallback } = React;
const useRenderProp = (element) => {
    if (process.env.NODE_ENV !== 'production') {
        if (!React.isValidElement(element)) {
            throw new TypeError('useRenderProp element to be a valid React element ' +
                'such as <MyRenderProp />.');
        }
    }
    const [state, setState] = useState([]);
    const useSetState = createMemo_1.default((...args) => setState(args));
    const render = useCallback((...args) => {
        useSetState(...args);
        return null;
    }, []);
    const cloned = React.cloneElement(element, {
        render,
        children: render,
    });
    return [cloned, state];
};
exports.default = useRenderProp;
