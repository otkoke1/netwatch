'use strict';

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var subscribe = _interopDefault(require('callbag-subscribe'));
var react = require('react');

function useCallbag(factory) {
  var _useState = react.useState(),
      state = _useState[0],
      setState = _useState[1];

  react.useEffect(function () {
    return subscribe(setState)(factory());
  }, []);
  return state;
}

module.exports = useCallbag;
